{% extends "base.html" %}
{% block content %}

<div class="dashboard-container">

  <h2 class="title">Cycle Prediction</h2>
  <p class="subtitle">Select the option that best describes you</p>

  <!-- =========================
       ERROR MESSAGE
  ========================== -->
  {% if error %}
    <div class="alert error">{{ error }}</div>
  {% endif %}

  <!-- =========================
       MODE SELECTION
  ========================== -->
  <form method="POST" action="{{ url_for('dashboard') }}" class="card">

    <div class="radio-group">
      <label>
        <input type="radio" name="mode" value="known" required>
        I know my cycle length
      </label>

      <label>
        <input type="radio" name="mode" value="unknown" required>
        I don’t know my cycle length
      </label>
    </div>

    <!-- =========================
         MODE: KNOWN
    ========================== -->
    <div class="form-section">
      <h4>Known Cycle</h4>

      <label>Last period start date</label>
      <input type="date" name="last_period">

      <label>Cycle length (days)</label>
      <input type="number" name="cycle_length" min="21" max="35">
    </div>

    <!-- =========================
         MODE: UNKNOWN
    ========================== -->
    <div class="form-section">
      <h4>Unknown Cycle</h4>

      <label>Previous period start date</label>
      <input type="date" name="previous_period">

      <label>Last period start date</label>
      <input type="date" name="last_period">
    </div>

    <button type="submit" class="btn-primary">
      Calculate Cycle
    </button>

  </form>

  <!-- =========================
       RESULTS
  ========================== -->
  {% if results %}
    <div class="results card">
      <h3>Your Cycle Results</h3>

      <ul>
        <li><strong>Last Period:</strong> {{ results.last_period }}</li>
        <li><strong>Cycle Length:</strong> {{ results.cycle_length }} days</li>
        <li><strong>Ovulation Day:</strong> {{ results.ovulation_day }}</li>
        <li><strong>Fertile Window:</strong>
          {{ results.fertile_start }} – {{ results.fertile_end }}
        </li>
        <li><strong>Next Period:</strong> {{ results.next_period }}</li>
      </ul>
    </div>
  {% endif %}

</div>

{% endblock %}
